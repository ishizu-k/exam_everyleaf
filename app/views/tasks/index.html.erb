<div class="container">
  <h3><%= link_to t('task.list'), tasks_path %></h3>
  <p><%= flash[:success] %></p>
  <br>

  <%= form_with(model: Task.new, url: tasks_path, local: true, method: 'get') do |form| %>
    <div class="task_search">
      <%= form.text_field :name, placeholder: "タスク名で検索" %>　
      <%= form.select :status, ["未着手", "着手", "完了"], prompt: "ステータスで検索" %>　
      <%= form.hidden_field :search, value: 'true' %>
      <%= form.submit "search" %>
    </div>
  <% end %>
  <br><br>
  <table class="table table-hover">
    <tr>
      <th class="col-md-2"><%= t('task.name') %></th>
      <th class="col-md-3"><%= t('task.content') %></th>
      <th class="col-md-2"><%= t('task.limit') %></th>
      <th class="col-md-1"><%= t('task.status') %></th>
      <th class="col-md-1"><%= t('task.priority') %></th>
      <th class="col-md-1"><%= t('action.show') %></th>
      <th class="col-md-1"><%= t('action.edit') %></th>
      <th class="col-md-1"><%= t('action.delete') %></th>
    </tr>
    <% @tasks.each do |task| %>
      <tr>
        <td><%= task.name %></td>
        <td><%= task.content %></td>
        <td><%= task.limit %></td>
        <td><%= task.status %></td>
        <td><%= task.priority %></td>
        <td><%= link_to t('action.show'), task_path(task.id) %></td>
        <td><%= link_to t('action.edit'), edit_task_path(task.id) %></td>
        <td><%= link_to t('action.delete'), task_path(task.id), method: :delete %></td>
      </tr>
    <% end %>
  </table>
  <%= paginate @tasks %>
</div>
